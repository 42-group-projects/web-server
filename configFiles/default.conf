# Global server settings
listen 127.0.0.1:8080;      # interface:port 1
listen 0.0.0.0:80;          # interface:port 2

server_name defaultConf.local;

# Default error pages
error_page 404 /errors/404.html;
error_page 500 /errors/500.html;

# Maximum allowed request body size
client_max_body_size 10M;

# Root directory for files
root /var/www/mysite;

# Route-specific configuration
location / {
    # Accept only GET and POST
    methods GET POST;

    # Enable directory listing
    autoindex on;

    # Default file for directories
    index index.html;

    # CGI execution for .php
    cgi .php /usr/bin/php-cgi;

    # Allow file uploads
    upload_enabled on;
    upload_path /var/www/mysite/uploads;
}

location /static {
    methods GET;
    root /var/www/mysite/static;
    autoindex off;
}

location /redirect {
    methods GET;
    return 302 http://example.com/;
}

location /kapouet {
    methods GET POST;
    root /tmp/www;
    autoindex on;
    index index.html;
}

location /cgi-bin {
    methods GET POST;
    root /var/www/mysite/cgi-bin;
    cgi .py /usr/bin/python;
}

